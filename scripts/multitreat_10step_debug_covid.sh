#!/bin/bash
# Schedule execution of many runs
log_dir=/home/tschw/Documents/Neuroengineering/causal_dynamics/uncertainty-aware-treatment-selection/logs
# ckpt_paths="$log_dir/train/runs/2024-06-27_11-11-49/checkpoints/epoch_015.ckpt, $log_dir/train/runs/2024-06-26_22-23-42/checkpoints/epoch_030.ckpt, $log_dir/train/runs/2024-06-26_22-46-15/checkpoints/epoch_037.ckpt, $log_dir/train/runs/2024-06-27_12-25-22/checkpoints/epoch_063.ckpt"
# ckpt_paths="$log_dir/train/runs/2024-07-01_15-11-38/checkpoints/epoch_030.ckpt, $log_dir/train/runs/2024-06-26_22-23-42/checkpoints/epoch_030.ckpt, $log_dir/train/runs/2024-07-02_13-29-14/checkpoints/epoch_040.ckpt, $log_dir/train/runs/2024-07-01_12-50-26/checkpoints/epoch_093.ckpt"
# ckpt_paths="$log_dir/train/runs/2024-07-03_12-49-46/checkpoints/epoch_059.ckpt, $log_dir/train/runs/2024-06-26_22-23-42/checkpoints/epoch_030.ckpt, $log_dir/train/runs/2024-07-03_16-50-20/checkpoints/epoch_015.ckpt, $log_dir/train/runs/2024-07-03_11-16-33/checkpoints/epoch_042.ckpt"
# ckpt_paths="$log_dir/train/runs/2024-07-03_12-49-46/checkpoints/epoch_059.ckpt, $log_dir/train/runs/2024-06-26_22-23-42/checkpoints/epoch_030.ckpt, $log_dir/train/runs/2024-07-03_16-50-20/checkpoints/epoch_015.ckpt, $log_dir/train/runs/2024-07-07_21-30-59/checkpoints/epoch_097.ckpt"
# ckpt_paths="$log_dir/train/runs/2024-07-03_12-49-46/checkpoints/epoch_059.ckpt, $log_dir/train/runs/2024-06-26_22-23-42/checkpoints/epoch_030.ckpt, $log_dir/train/runs/2024-07-03_16-50-20/checkpoints/epoch_015.ckpt, $log_dir/train/runs/2024-07-08_10-25-11/checkpoints/epoch_055.ckpt"
# ckpt_paths="$log_dir/train/runs/2024-07-03_12-49-46/checkpoints/epoch_059.ckpt, $log_dir/train/runs/2024-06-26_22-23-42/checkpoints/epoch_030.ckpt, $log_dir/train/runs/2024-07-03_16-50-20/checkpoints/epoch_015.ckpt, $log_dir/train/runs/2024-07-08_12-12-25/checkpoints/epoch_068.ckpt"
# ckpt_paths="$log_dir/train/runs/2024-07-08_17-14-19/checkpoints/epoch_001.ckpt, $log_dir/train/runs/2024-07-08_17-15-17/checkpoints/epoch_001.ckpt, $log_dir/train/runs/2024-07-08_17-16-15/checkpoints/epoch_000.ckpt, $log_dir/train/runs/2024-07-08_17-13-21/checkpoints/epoch_000.ckpt"
# ckpt_paths="$log_dir/train/runs/2024-07-08_18-49-28/checkpoints/epoch_039.ckpt, $log_dir/train/runs/2024-07-08_19-07-50/checkpoints/epoch_096.ckpt, $log_dir/train/runs/2024-07-08_20-05-50/checkpoints/epoch_040.ckpt, $log_dir/train/runs/2024-07-08_17-39-37/checkpoints/epoch_093.ckpt"
# ckpt_paths="$log_dir/train/runs/2024-07-09_15-55-14/checkpoints/epoch_002.ckpt, $log_dir/train/runs/2024-07-09_15-57-22/checkpoints/epoch_002.ckpt, $log_dir/train/runs/2024-07-09_15-59-34/checkpoints/epoch_001.ckpt, $log_dir/train/runs/2024-07-09_15-53-05/checkpoints/epoch_002.ckpt"
# ckpt_paths="$log_dir/train/runs/2024-07-12_14-42-43/checkpoints/epoch_009.ckpt, $log_dir/train/runs/2024-07-09_15-57-22/checkpoints/epoch_002.ckpt, $log_dir/train/runs/2024-07-09_15-59-34/checkpoints/epoch_001.ckpt, $log_dir/train/runs/2024-07-09_15-53-05/checkpoints/epoch_002.ckpt"
# ckpt_paths="$log_dir/train/runs/2024-07-12_15-26-25/checkpoints/epoch_099.ckpt, $log_dir/train/runs/2024-07-16_13-13-03/checkpoints/epoch_099.ckpt, $log_dir/train/runs/2024-07-16_12-51-53/checkpoints/epoch_005.ckpt, $log_dir/train/runs/2024-07-12_15-11-51/checkpoints/epoch_012.ckpt"
ckpt_paths="$log_dir/train/runs/2024-07-18_12-22-05/checkpoints/epoch_009.ckpt, $log_dir/train/runs/2024-07-18_12-23-21/checkpoints/epoch_009.ckpt, $log_dir/train/runs/2024-07-18_12-27-52/checkpoints/epoch_000.ckpt, $log_dir/train/runs/2024-07-18_12-17-31/checkpoints/epoch_006.ckpt"

HYDRA_FULL_ERROR=1 python src/multitreat.py experiment=multitreat_10step logger=wandb +logger.wandb.name=multitreat_10step_na ++ckpt_paths="[$ckpt_paths]" ++treat.n_replicates=2 ++treat.clamp_max=2.0 ++treat.clamp_slope=0.05 ++treat.n_iter=2 data=covid_dynamics  ++data.train_dataset.n_instances=128 ++data.val_dataset.n_instances=128 ++data.test_dataset.n_instances=128 ++data.batch_size=16
